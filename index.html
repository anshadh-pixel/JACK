<!doctype html>
<html lang="ml">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Secret Chat - Color Updated</title>
  <style>
    /* ====== CHANGE COLORS HERE ======
       --bg-start / --bg-end : background gradient
       --text-color         : main text color
       --muted              : muted text (hints)
       --card-bg            : chat box / card background
       --btn-bg             : send button background
       --btn-text           : send button text color
    ==================================*/
    :root{
      --bg-start: #0f172a;     /* left/top background */
      --bg-end:   #0b1220;     /* right/bottom background */
      --text-color: #e6eef8;
      --muted: #98a0b3;
      --card-bg: rgba(255,255,255,0.04);
      --btn-bg: #ef476f;
      --btn-text: #ffffff;
      --accent: #ffd166;
    }

    *{box-sizing:border-box}
    html,body{height:100%;margin:0;padding:0;font-family:system-ui, -apple-system, 'Segoe UI', Roboto, 'Noto Sans Malayalam', sans-serif}
    body{
      display:flex;
      align-items:center;
      justify-content:center;
      background: linear-gradient(135deg, var(--bg-start), var(--bg-end));
      color:var(--text-color);
      padding:18px;
    }

    .wrap{
      width:100%;
      max-width:520px;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:14px;
      padding:14px;
      box-shadow: 0 10px 30px rgba(2,6,23,0.6);
      border: 1px solid rgba(255,255,255,0.04);
    }

    h1{margin:6px 0 12px;font-size:1.25rem;text-align:center}
    .hint{color:var(--muted);font-size:0.9rem;text-align:center;margin-bottom:12px}

    #messages{
      height:56vh;
      max-height:520px;
      overflow:auto;
      background: var(--card-bg);
      border-radius:10px;
      padding:12px;
      border:1px solid rgba(255,255,255,0.03);
      margin-bottom:12px;
      color:var(--text-color);
    }
    .msg{margin:8px 0;display:inline-block;max-width:85%;padding:8px 12px;border-radius:12px;line-height:1.25}
    .msg.me{background: linear-gradient(90deg, rgba(239,71,111,0.12), rgba(239,71,111,0.06)); color:var(--text-color); align-self:flex-end; margin-left:auto}
    .msg.you{background: linear-gradient(90deg, rgba(128,90,213,0.08), rgba(128,90,213,0.04)); color:var(--text-color)}
    .time{display:block;font-size:11px;color:var(--muted);margin-top:6px}

    .compose{display:flex;gap:8px;align-items:center}
    .compose input{
      flex:1;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);
      background: rgba(0,0,0,0.25); color:var(--text-color); outline:none;
    }
    .compose button{
      padding:10px 14px;border-radius:10px;border:0;background:var(--btn-bg);color:var(--btn-text);
      cursor:pointer;font-weight:600;
    }
    .compose button.secondary{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--accent)}

    /* responsive */
    @media (max-width:420px){
      .wrap{padding:10px}
      h1{font-size:1rem}
      #messages{height:52vh}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>ðŸ’¬ Secret Chat</h1>
    <div class="hint">Color demo â€” customize top CSS variables to change colors</div>

    <div id="messages" aria-live="polite"></div>

    <div class="compose">
      <input id="msgInput" placeholder="Type a message..." aria-label="message input">
      <button id="sendBtn">Send</button>
      <button id="altBtn" class="secondary">GF</button>
    </div>
    <div style="margin-top:10px;color:var(--muted);font-size:12px;text-align:center">
      Tip: Change <code>--bg-start</code>, <code>--bg-end</code>, <code>--text-color</code> in CSS.
    </div>
  </div>

  <script>
    // simple demo-only local chat (no server) â€” two tabs will not sync.
    // Replace with socket.io client if you have backend.
    const messages = document.getElementById('messages');
    const input = document.getElementById('msgInput');
    const sendBtn = document.getElementById('sendBtn');
    const altBtn = document.getElementById('altBtn');

    function addMessage(text, who='me'){
      const d = document.createElement('div');
      d.className = 'msg ' + (who === 'me' ? 'me' : 'you');
      d.innerHTML = `<div>${escapeHtml(text)}</div><div class="time">${new Date().toLocaleTimeString()}</div>`;
      messages.appendChild(d);
      messages.scrollTop = messages.scrollHeight;
    }
    function escapeHtml(s){ return s.replace(/[&<>"']/g, (m)=>({ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;' }[m])); }

    sendBtn.addEventListener('click', ()=> {
      const t = input.value.trim(); if(!t) return;
      addMessage(t,'me'); input.value=''; setTimeout(()=> addMessage('Reply: '+t,'you'),600);
    });
    altBtn.addEventListener('click', ()=> {
      const t = input.value.trim(); if(!t) return;
      addMessage(t,'you'); input.value=''; setTimeout(()=> addMessage('Reply: '+t,'me'),600);
    });

    // initial demo messages
    addMessage('Hi ðŸ™‚ This is a color-customizable chat demo','you');
    addMessage('Try changing CSS variables at the top to update colors','me');
  </script>
</body>
</html>
