<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=AnjaliOldLipi&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'AnjaliOldLipi', sans-serif; background: linear-gradient(to right, #ffafbd, #ffc3a0); }
        #chatContainer { display: none; }
        .chat-message { margin: 8px 0; padding: 8px 12px; border-radius: 12px; position: relative; max-width: 75%; }
        .user { background-color: #fce4ec; color: #880e4f; align-self: flex-end; }
        .gf { background-color: #f3e5f5; color: #4a148c; align-self: flex-start; }
        .fade-in { animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .heart { position: absolute; top: -12px; right: 8px; font-size: 18px; color: red; animation: heartbeat 1.5s infinite; }
        @keyframes heartbeat { 0% { transform: scale(1); } 50% { transform: scale(1.3); } 100% { transform: scale(1); } }
        .calc-button { width: 48px; height: 48px; font-size: 16px; }
        @media (max-width: 640px) {
            .container { padding: 12px; max-width: 100%; }
            .chat-message { max-width: 85%; font-size: 14px; }
            #chatBox { max-height: 300px; }
            #title, #calcTitle { font-size: 1.25rem; }
            .calc-button { width: 40px; height: 40px; font-size: 14px; }
            #calcDisplay { font-size: 1.5rem; }
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center">
    <div class="container mx-auto p-4 bg-white rounded-lg shadow-lg max-w-sm">
        <!-- Calculator UI -->
        <div id="calculatorContainer">
            <h1 id="calcTitle" class="text-xl font-bold mb-3 text-center text-gray-700">Simple Calculator</h1>
            <input type="text" id="calcDisplay" class="w-full p-2 border rounded mb-2 text-sm bg-gray-100" readonly value="0">
            <div class="grid grid-cols-4 gap-1 mb-2">
                <button onclick="clearCalc()" class="calc-button bg-red-500 text-white rounded hover:bg-red-600">C</button>
                <button onclick="appendCalc('(')" class="calc-button bg-gray-300 rounded hover:bg-gray-400">(</button>
                <button onclick="appendCalc(')')" class="calc-button bg-gray-300 rounded hover:bg-gray-400">)</button>
                <button onclick="appendCalc('/')" class="calc-button bg-gray-300 rounded hover:bg-gray-400">/</button>
                <button onclick="appendCalc('7')" class="calc-button bg-gray-200 rounded hover:bg-gray-300">7</button>
                <button onclick="appendCalc('8')" class="calc-button bg-gray-200 rounded hover:bg-gray-300">8</button>
                <button onclick="appendCalc('9')" class="calc-button bg-gray-200 rounded hover:bg-gray-300">9</button>
                <button onclick="appendCalc('*')" class="calc-button bg-gray-300 rounded hover:bg-gray-400">*</button>
                <button onclick="appendCalc('4')" class="calc-button bg-gray-200 rounded hover:bg-gray-300">4</button>
                <button onclick="appendCalc('5')" class="calc-button bg-gray-200 rounded hover:bg-gray-300">5</button>
                <button onclick="appendCalc('6')" class="calc-button bg-gray-200 rounded hover:bg-gray-300">6</button>
                <button onclick="appendCalc('-')" class="calc-button bg-gray-300 rounded hover:bg-gray-400">-</button>
                <button onclick="appendCalc('1')" class="calc-button bg-gray-200 rounded hover:bg-gray-300">1</button>
                <button onclick="appendCalc('2')" class="calc-button bg-gray-200 rounded hover:bg-gray-300">2</button>
                <button onclick="appendCalc('3')" class="calc-button bg-gray-200 rounded hover:bg-gray-300">3</button>
                <button onclick="appendCalc('+')" class="calc-button bg-gray-300 rounded hover:bg-gray-400">+</button>
                <button onclick="appendCalc('0')" class="calc-button bg-gray-200 rounded hover:bg-gray-300">0</button>
                <button onclick="appendCalc('.')" class="calc-button bg-gray-200 rounded hover:bg-gray-300">.</button>
                <button onclick="calculate()" class="calc-button col-span-2 bg-blue-500 text-white rounded hover:bg-blue-600">=</button>
            </div>
        </div>

        <!-- Secret Chat UI -->
        <div id="chatContainer" class="flex flex-col h-[450px]">
            <h1 id="title" class="text-xl font-bold mb-3 text-center text-pink-600">Secret Chat üíï</h1>
            <select id="language" class="mb-3 p-2 border rounded w-full text-sm" onchange="changeLanguage()">
                <option value="en">English</option>
                <option value="ml">‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç</option>
            </select>
            <div id="chatBox" class="flex-1 overflow-y-auto mb-2 p-2 border rounded bg-pink-50"></div>
            <textarea id="messageInput" class="w-full p-2 border rounded mb-2 text-sm" rows="2" placeholder="Type your message..."></textarea>
            <div class="flex gap-2">
                <button onclick="sendMessage('user')" class="flex-1 bg-pink-500 text-white p-2 rounded hover:bg-pink-600 transition text-sm">Send (You)</button>
                <button onclick="sendMessage('gf')" class="flex-1 bg-purple-500 text-white p-2 rounded hover:bg-purple-600 transition text-sm">Send (GF)</button>
                <button onclick="clearChat()" class="flex-1 bg-red-500 text-white p-2 rounded hover:bg-red-600 transition text-sm">Clear Chat</button>
            </div>
        </div>
    </div>
    <script>
        const secretCode = "143"; // Change to your secret code
        let messages = [{ text: "‡¥®‡¥ø‡¥®‡µç‡¥®‡µÜ ‡¥ï‡¥æ‡¥£‡¥æ‡µª ‡¥ï‡µä‡¥§‡¥ø‡¥Ø‡¥æ‡¥ï‡µÅ‡¥®‡µç‡¥®‡µÅ! üòò", sender: "user" }]; // Pre-loaded romantic message
        let calcExpression = "0";

        function appendCalc(value) {
            if (calcExpression === "0") calcExpression = "";
            calcExpression += value;
            document.getElementById('calcDisplay').value = calcExpression;
        }

        function clearCalc() {
            calcExpression = "0";
            document.getElementById('calcDisplay').value = calcExpression;
        }

        function calculate() {
            let input = document.getElementById('calcDisplay').value;
            if (input === secretCode) {
                document.getElementById('calculatorContainer').style.display = 'none';
                document.getElementById('chatContainer').style.display = 'flex';
                loadMessages();
            } else {
                try {
                    calcExpression = eval(input).toString();
                    document.getElementById('calcDisplay').value = calcExpression;
                } catch {
                    alert("Invalid calculation!");
                    clearCalc();
                }
            }
        }

        function sendMessage(sender) {
            let input = document.getElementById('messageInput').value;
            if (input.trim()) {
                messages.push({ text: input, sender: sender });
                document.getElementById('messageInput').value = '';
                loadMessages();
            }
        }

        function loadMessages() {
            let chatBox = document.getElementById('chatBox');
            chatBox.innerHTML = '';
            messages.forEach(msg => {
                let div = document.createElement('div');
                div.className = `chat-message ${msg.sender} fade-in`;
                div.innerHTML = `${msg.text} <span class="heart">‚ù§Ô∏è</span>`;
                chatBox.appendChild(div);
            });
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        function clearChat() {
            messages = [];
            loadMessages();
        }

        function changeLanguage() {
            let lang = document.getElementById('language').value;
            document.getElementById('calcTitle').textContent = lang === 'ml' ? '‡¥≤‡¥≥‡¥ø‡¥§‡¥Æ‡¥æ‡¥Ø ‡¥ï‡¥æ‡µΩ‡¥ï‡µç‡¥ï‡µÅ‡¥≤‡µá‡¥±‡µç‡¥±‡µº' : 'Simple Calculator';
            document.getElementById('title').textContent = lang === 'ml' ? '‡¥∏‡µÄ‡¥ï‡µç‡¥∞‡¥ü‡µç‡¥ü‡µç ‡¥ö‡¥æ‡¥±‡µç‡¥±‡µç üíï' : 'Secret Chat üíï';
            document.getElementById('calcDisplay').placeholder = lang === 'ml' ? '‡¥®‡¥Æ‡µç‡¥™‡µº ‡¥®‡µΩ‡¥ï‡µÅ‡¥ï...' : 'Enter number...';
            document.getElementById('messageInput').placeholder = lang === 'ml' ? '‡¥®‡¥ø‡¥®‡µç‡¥±‡µÜ ‡¥Æ‡µÜ‡¥∏‡µá‡¥ú‡µç ‡¥é‡¥¥‡µÅ‡¥§‡µÅ‡¥ï...' : 'Type your message...';
            document.getElementsByTagName('button')[0].textContent = lang === 'ml' ? '‡¥∏‡¥ø' : 'C';
            document.getElementsByTagName('button')[18].textContent = lang === 'ml' ? '=' : '=';
            document.getElementsByTagName('button')[19].textContent = lang === 'ml' ? '‡¥∏‡µÜ‡µª‡¥°‡µç (‡¥®‡µÄ)' : 'Send (You)';
            document.getElementsByTagName('button')[20].textContent = lang === 'ml' ? '‡¥∏‡µÜ‡µª‡¥°‡µç (GF)' : 'Send (GF)';
            document.getElementsByTagName('button')[21].textContent = lang === 'ml' ? '‡¥ö‡¥æ‡¥±‡µç‡¥±‡µç ‡¥ï‡µç‡¥≤‡¥ø‡¥Ø‡µº' : 'Clear Chat';
        }

        loadMessages();
    </script>
</body>
</html>